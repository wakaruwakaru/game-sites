<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="shortcut icon" href="/game-sites/index/icon/icon1.png" />
<link rel="stylesheet" href="./css/main.css">
<title>スネークゲーム</title>
</head>
<body>

<div id="speedBox">
  Speed: <input id="speed" type="range" min="50" max="300" value="120"> <span id="speedVal">120ms</span>
</div>

<canvas id="game" width="300" height="300"></canvas>
<div id="score">Score: 0</div>

<div class="controls">
  <div></div>
  <div class="btn" data-dir="up">▲</div>
  <div></div>
  <div class="btn" data-dir="left">◀</div>
  <div></div>
  <div class="btn" data-dir="right">▶</div>
  <div></div>
  <div class="btn" data-dir="down">▼</div>
  <div></div>
</div>

<script src="./js/main.js"></script>
<div id="reloadBtn" class="floating-btn" onclick="reload()">↻</div>
<div id="logoutBtn" class="floating-btn" onclick="backPage()">⇦</div>
</body>
    <script>
        const urlParams = new URLSearchParams(location.search);
        const token1 = urlParams.get("key1");
        const token3 = localStorage.getItem("account1");
        localStorage.setItem("account1", "");
        if((token1 !== localStorage.getItem("key1")) || (token3 == "") || (token3 == null)){
            localStorage.setItem("key1", "unauthorized");
            localStorage.setItem("requestPage1", "game/page0010/page0010");
            location.href = "/game-sites/";
        }else{
            localStorage.setItem("requestPage1", "");
            localStorage.setItem("key1", "");
        }

        function reload(){
            const key1 = crypto.randomUUID();
            localStorage.setItem("key1", key1);
            localStorage.setItem("account1", token3);
            location.href = "/game-sites/game/page0010/page0010?key1=" + key1;
        }
        function backPage(){
            const key1 = crypto.randomUUID();
            localStorage.setItem("key1", key1);
            localStorage.setItem("account1", token3);
            location.href = "/game-sites/top/top0001/top0001?key1=" + key1;
        }
    </script>
</html>
