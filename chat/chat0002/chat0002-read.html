<html>
  <head></head>
  <body>
    <div id="docContent">読み込み中...</div>

<script>
  const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbwO-h9O7dQhfKSnpVvE2opZXEJJlPV9LAGBSiFUR3-2m6jh8pCvo5JbJUW0cWxRn7MS/exec";

  async function loadDoc() {
    const res = await fetch(WEB_APP_URL); 
    const data = await res.json(); 

    if (data.status === "ok") {
      document.getElementById("docContent").textContent = data.content;
    } else {
      document.getElementById("docContent").textContent = "エラー: " + data.message;
    }
  }

  loadDoc();

    var timer1 = null;
    function event1(){
      loadDoc();
    }timer1 = setInterval(event1,1000);
  
</script>
  <script>
    const urlParams = new URLSearchParams(location.search);
    const token1 = urlParams.get("key1");
    if(token1 !== localStorage.getItem("key1")){
        localStorage.setItem("key1", "unauthorized");
        localStorage.setItem("requestPage1", "chat/chat0002/chat0002-read");
        location.href = "https://wakaruwakaru.github.io/game-sites/";
    }else{
        localStorage.setItem("key1", "unauthorized");
        localStorage.setItem("requestPage1", "");
    }
    function reload(){
        const key1 = crypto.randomUUID();
        localStorage.setItem("key1", key1);
        location.href = "https://wakaruwakaru.github.io/game-sites/chat/chat0002/chat0002-read?key1=" + key1;
    }
    function backPage(){
        const key1 = crypto.randomUUID();
        localStorage.setItem("key1", key1);
        location.href = "https://wakaruwakaru.github.io/game-sites/top0001?key1=" + key1;
    }
  </script>
  </body>
</html>
