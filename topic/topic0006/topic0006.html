<html>
<head>
<meta charset="utf-8">
<title>トピックの改変について</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="shortcut icon" href="/game-sites/index/icon/icon1.png" >
<link rel="stylesheet" href="/game-sites/topic/css/main.css" />
</head>
<body>
<h1>トピック</h1>
<hr />
<div id="articleArea">
<!-- 記事の画像や本文  -->

<div class="article-container">
    <div class="article-title">最新トピックがログイン画面に登場!</div>
    <img class="article-image" src="./picture0001.png" alt="記事画像">
    <div class="article-body">
        <p>最新トピックがログイン画面に登場! 記事コピー機能も新たに登場</p>
        <h2>■ 最新トピックの表示とページショートカット</h2>
        <p>　近日トピックページのUIが更新されたのを機に、新UIでの最新トピックがログイン画面に表示されるようになりました。表示されているトピックの一つをタップするとカーソルがログインフォームに自動で移動し、そのままログインするとタップしたトピックにを開くことができるようになります(ページショートカット機能)。</p>
        <h2>■ 新 記事コピーと共有機能</h2>
    </div>
    <img class="article-image2" src="./picture0002.jpg" alt="記事画像">
    <div class="article-body">
        <p>　すべてのトピックの詳細ページに記事をコピー/共有する機能が新実装されました。「game-sites」のトピックページはセキュリティの影響により、リンクを用いた共有ができませんでした。今回実装された新機能では任意のトピックを画像形式で保存＆共有することができるようになります。</p>
        <p>　トピック詳細ページの最下部右側に表示されている📥アイコンをタップすると現在閲覧しているトピックが画像形式でクリップボードにコピーされ、画面上部の右側に完了のメッセージが表示されます。その後、Ctrl+Vや”貼り付け”でペーストすることで、他のプラットフォームに共有することができます。</p>
        <p>　この方法で得られる画像は場合にもよりますが、比較的高画質でトピック内の画像付きで保存することができるようです。ファイル形式はPNGが用いられるとのことなので、非圧縮かつ汎用性が高いといえるでしょう。</p>
        <p>　公式は、一部のブラウザまたは端末では正常にコピーされない場合があるとし、注意を呼び掛けています。</p>
        <div class="side-set"><button id="copyBtn" class="neonButton">📥</button></div>
        <p style="margin-top: 30px; opacity: 0.7;">Ⓒgame-sites　　2025.12.07</p>
    </div>
</div>

<!-- 記録される記事の最後 -->
</div>
<hr />
<div id="reloadBtn" class="floating-btn" onclick="reload()">↻</div>
<div id="logoutBtn" class="floating-btn" onclick="backPage()">⇦</div>
<div id="toast" class="toast">記事をコピーしました</div>
    <script>
        const urlParams = new URLSearchParams(location.search);
        const token1 = urlParams.get("key1");
        const token3 = localStorage.getItem("account1");
        localStorage.setItem("account1", "");
        if((token1 !== localStorage.getItem("key1")) || (token3 == "") || (token3 == null)){
            localStorage.setItem("key1", "unauthorized");
            localStorage.setItem("requestPage1", "topic/topic0006/topic0006");
            location.href = "/game-sites/";
        }else{
            localStorage.setItem("key1", "");
            localStorage.setItem("requestPage1", "");
            setInterval(() => {
                sendToGAS(token3, "", "topic");
            }, 5000);
        }

    /* ======== Google Apps Script Web App URL ======== */
    const WEB_APP_URL =
      "https://script.google.com/macros/s/AKfycbxzyrgvalRn0lOL0jF-OL39xFCn_1tga9l1TVt283uKUftgx7E4nPn4zpvwOBRObpiMLA/exec";
    /* ======== GASに送信する処理 ======== */
    async function sendToGAS(User, text, status){
      const payload = {
        user: User,
        message: text,
        status
      };
      try {
        await fetch(WEB_APP_URL, {
          method: "POST",
          mode: "no-cors",   // ← GAS が CORS 許可してないため必要
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });
      } catch (e) {
        console.error("送信エラー:", e);
      }
    }

        function jumpLink1(){
        //  const key1 = crypto.randomUUID();
        //  localStorage.setItem("key1", key1);
        //  localStorage.setItem("account1", token3);
        //  location.href = "/game-sites/page0007-1?key1=" + key1;
        }
        function reload(){
            const key1 = crypto.randomUUID();
            localStorage.setItem("key1", key1);
            localStorage.setItem("account1", token3);
            location.href = "/game-sites/topic/topic0006/topic0006?key1=" + key1;
        }
        function backPage(){
            const key1 = crypto.randomUUID();
            localStorage.setItem("key1", key1);
            localStorage.setItem("account1", token3);
            location.href = "/game-sites/topic/top-topic0001?key1=" + key1;
        }
    </script>
    <script src="/game-sites/index/dist/html2canvas.js"></script>
    <script src="/game-sites/topic/js/copy.js"></script>
</body>
</html>
